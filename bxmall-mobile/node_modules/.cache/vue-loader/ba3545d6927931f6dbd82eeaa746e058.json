{"remainingRequest":"D:\\banxue-repository\\bxmall-frontend\\linjiashop-mobile\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js??vue-loader-options!D:\\banxue-repository\\bxmall-frontend\\linjiashop-mobile\\src\\view\\search\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\banxue-repository\\bxmall-frontend\\linjiashop-mobile\\src\\view\\search\\index.vue","mtime":1611565389608},{"path":"D:\\banxue-repository\\bxmall-frontend\\linjiashop-mobile\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\banxue-repository\\bxmall-frontend\\linjiashop-mobile\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\banxue-repository\\bxmall-frontend\\linjiashop-mobile\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\banxue-repository\\bxmall-frontend\\linjiashop-mobile\\node_modules\\_vue-loader@15.9.6@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport goods from '@/api/goods'\nconst baseApi = process.env.VUE_APP_BASE_API\nimport {\n    Divider,\n    List,\n    Toast,\n    Cell,\n    CellGroup,\n    Card,\n    Col,\n    Icon,\n    Lazyload,\n    Row,\n    Tab,\n    Tabbar,\n    TabbarItem,\n    Tabs,\n    Search\n} from 'vant';\n\nexport default {\n    components: {\n        [Divider.name]: Divider,\n        [List.name]: List,\n        [Toast.name]:Toast,\n        [Row.name]: Row,\n        [Col.name]: Col,\n        [Icon.name]: Icon,\n        [Cell.name]: Cell,\n        [CellGroup.name]: CellGroup,\n        [Tabbar.name]: Tabbar,\n        [TabbarItem.name]: TabbarItem,\n        [Tab.name]: Tab,\n        [Tabs.name]: Tabs,\n        [Card.name]: Card,\n        [Search.name]:Search,\n        Lazyload\n\n\n    },\n    data() {\n        return {\n            searchKey:'',\n            loading:false,\n            finished:false,\n            goodsList: [],\n            activeFooter: 1,\n            listQuery: {\n                page: 1,\n                limit: 20,\n                key:''\n            },\n        }\n    },\n    mounted(){\n        this.init()\n    },\n    methods: {\n        init(){\n            this.searchHot()\n        },\n        searchGoods(){\n            goods.search(this.listQuery).then( response => {\n                let list = response.data.records\n                for(var index in  list){\n                    const item = list[index]\n                    item.img = baseApi+'/file/getImgStream?idFile=' + item.pic\n                }\n                this.goodsList = list\n                this.loading=false\n\n            }).catch( (err) => {\n                Toast.fail(err)\n                this.loading=false\n            })\n\n        },\n        searchHot(){\n            goods.searchHot().then( response =>{\n                let list = response.data\n                for(var index in  list){\n                    const item = list[index]\n                    item.img = baseApi+'/file/getImgStream?idFile=' + item.pic\n                }\n                this.goodsList = list\n                this.loading=false\n            }).catch( (err) => {\n                Toast.fail(err)\n                this.loading=false\n            })\n        },\n        viewGoodsDetail(id){\n            this.$router.push({path:'/goods/'+id})\n        },\n        formatPrice(price) {\n            return (price / 100).toFixed(2)\n        }\n    }\n};\n",null]}